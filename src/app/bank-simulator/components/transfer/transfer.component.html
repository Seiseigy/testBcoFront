<div class="container mt-5">
  <div class="row">
    <div class="col-md-10 mx-auto">
      <h1 class="pb-5">Transferir</h1>
      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="form-group row">
          <div class="col-sm-6">
            <label for="recipient">Destinatario</label>
            <select formControlName="recipient" id="recipient" class="form-control"  [(ngModel)]="selectedRecipient">
              <option *ngFor="let recipient of recipientsList" [ngValue]="recipient">{{recipient.name}} - {{recipient.rut}}</option>
           </select>
            <div *ngIf="f.recipient.touched && f.recipient.invalid" class="alert alert-danger">
              <div *ngIf="f.recipient.errors.required">Debe seleccionar un destinatario</div>
            </div>
          </div>
        </div>
        <div class="recipientData border col-6 mb-3" *ngIf="selectedRecipient">
          <p class="font-weight-bold">Detalle del destinatario</p>
          <p>Nombre: {{selectedRecipient.name}}</p>
          <p>Correo: {{selectedRecipient.email}}</p>
          <p>Banco: {{selectedRecipient.destinyBank}}</p>
          <p>Tipo de cuenta: {{selectedRecipient.accountType}}</p>
        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <label for="amount">Monto</label>
            <input formControlName="amount" id="amount" type="text" class="form-control" />
            <div *ngIf="f.amount.touched && f.amount.invalid" class="alert alert-danger">
              <div *ngIf="f.amount.errors.required">Debes ingresar un monto</div>
            </div>
          </div>
        </div>
        <div class="text-center pt-3">
          <button class="btn btn-primary" type="submit">Transferir</button>
        </div>
      </form>
    </div>
  </div>
</div>
